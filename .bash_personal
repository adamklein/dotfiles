# -*- sh -*-  Personal bash settings
# Put this at the end of your .bashrc or .bash_profile file
# # Source personal definitions
# if [ -f ~/.bash_personal ]; then
#         . ~/.bash_personal
# fi

# don't put duplicate lines in the history. See bash(1) for more options
# ... or force ignoredups and ignorespace
HISTCONTROL=ignoredups:ignorespace

# append to the history file, don't overwrite it
shopt -s histappend

# for setting history length see HISTSIZE and HISTFILESIZE in bash(1)
HISTSIZE=1000
HISTFILESIZE=2000

# check the window size after each command and, if necessary,
# update the values of LINES and COLUMNS.
shopt -s checkwinsize

# enable color support of ls and also add handy aliases
if [ -x /usr/bin/dircolors ]; then
    test -r ~/.dircolors && eval "$(dircolors -b ~/.dircolors)" || eval "$(dircolors -b)"

    alias grep='grep --color=auto'
    alias fgrep='fgrep --color=auto'
    alias egrep='egrep --color=auto'
fi

# paths
export PATH=~/miniconda3/bin:$PATH

alias v='vim'

alias ..="cd .."
alias ...="cd ../.."
alias ....="cd ../../.."

# Prevents accidentally clobbering files.
alias mkdir='mkdir -p'

# sudo play nice please
# alias sudo="sudo env PATH=$PATH"

# git aliases
alias ga='git add'
alias gp='git push'
alias gl='git log --oneline'
alias gs='git status'
alias gd='git diff --color'
alias gm='git commit -m'
alias gma='git commit -am'
alias gb='git branch'
alias gc='git checkout'
alias gra='git remote add'
alias grr='git remote rm'
alias gpu='git pull --ff-only'
alias gcl='git clone'

# some more ls aliases
alias l='ls -A'
alias ll='ls -alFh'

alias rm='rm -i'
alias cp='cp -i'
alias mv='mv -i'

alias du='du -kh'       # Makes a more readable output.
alias df='df -kTh'

alias path='echo -e ${PATH//:/\\n}'
alias libpath='echo -e ${LD_LIBRARY_PATH//:/\\n}'

############################################################################

# git completion
source $HOME/.git-completion
source $HOME/.git-prompt.sh
source $HOME/.bash_prompt
source $HOME/.bashmarks

# let segfault leave core dump plz
# ulimit -c unlimited

# pushd to directory for python package
function pushdp {
   pushd `python -c "import os; import $1; print os.path.dirname($1.__file__)"`
}

# enable programmable completion features (you don't need to enable
# this, if it's already enabled in /etc/bash.bashrc and /etc/profile
# sources /etc/bash.bashrc).
if [ -f /etc/bash_completion ] && ! shopt -oq posix; then
    . /etc/bash_completion
fi

# enable git diff func
function git_diff() {
  git diff --no-ext-diff -w "$@" | vim -R -
}
